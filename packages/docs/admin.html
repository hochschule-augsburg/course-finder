<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>admin</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="admin_files/libs/clipboard/clipboard.min.js"></script>
<script src="admin_files/libs/quarto-html/quarto.js"></script>
<script src="admin_files/libs/quarto-html/popper.min.js"></script>
<script src="admin_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="admin_files/libs/quarto-html/anchor.min.js"></script>
<link href="admin_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="admin_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="admin_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="admin_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="admin_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<section id="dokumentation-der-webseite-für-den-admin" class="level1">
<h1>Dokumentation der Webseite für den Admin</h1>
<p>Diese Dokumentation bietet eine umfassende Übersicht über die verschiedenen Funktionen, die speziell auf die Bedürfnisse des Admins abgestimmt sind.</p>
<section id="anmeldung-als-admin" class="level2">
<h2 class="anchored" data-anchor-id="anmeldung-als-admin">1 Anmeldung als Admin</h2>
<p>Um sich anzumelden, muss der Admin auf der Startseite den Login-Button anklicken. Dieser Button befindet sich in der Navigationsleiste. Nachdem der Admin den Button betätigt hat, wird er dazu aufgefordert, sich mit Benutzernamen und Passwort anzumelden.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/anmeldung.png" class="img-fluid figure-img"></p>
<figcaption>Anmeldung</figcaption>
</figure>
</div>
<p>Sobald die Anmeldung erfolgreich gewesen ist, wird dem Admin in der Navigationsleiste der Admin-Button angezeigt, dieser Button wird als Krone dargestellt. Mithilfe dieses Buttons gelangt man zur Admin-Startseite.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/adminbutton.png" class="img-fluid figure-img"></p>
<figcaption>Admin-Button</figcaption>
</figure>
</div>
</section>
<section id="navigation-durch-die-webseite-als-admin" class="level2">
<h2 class="anchored" data-anchor-id="navigation-durch-die-webseite-als-admin">2 Navigation durch die Webseite als Admin</h2>
<section id="admin-startseite" class="level3">
<h3 class="anchored" data-anchor-id="admin-startseite"><strong>2.1 Admin-Startseite</strong></h3>
<p>Die Admin-Startseite ist eine Übersicht, die folgende Informationen und Funktionen bietet:</p>
<ul>
<li><strong>Aktuelle Phase:</strong> Informationen über die aktuelle Phase (Sommersemester/Wintersemester, Start, Ende und verbleibende Zeit, verfügbare Kurse in der aktuellen Phase). Sobald man darauf klickt, kann man die aktuelle Phase bearbeiten.</li>
<li><strong>Statistik:</strong> Übersicht über die Anzahl der Studenten, die sich bereits für die Wahlpflichtfächer angemeldet haben.</li>
<li><strong>Alle Kurse:</strong> Hiermit kann der Admin alle Wahlpflichtfächer einsehen, bearbeiten und nach Bedarf neue Wahlpflichtfächer hinzufügen.</li>
<li><strong>Alle Phasen:</strong> Hiermit kann der Admin alle Phasen einsehen, bearbeiten und neue Phasen hinzufügen.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/adminstartseite.png" class="img-fluid figure-img"></p>
<figcaption>Admin-Startseite</figcaption>
</figure>
</div>
</section>
<section id="aktuelle-phase-bearbeiten" class="level3">
<h3 class="anchored" data-anchor-id="aktuelle-phase-bearbeiten"><strong>2.2 Aktuelle Phase bearbeiten</strong></h3>
<p>Wenn man auf der Admin-Startseite auf den Kasten klickt, in dem sich die aktuelle Phase befindet, kann man diese aktuelle Phase bearbeiten. Zudem kann der Admin den Zustand der Phase ändern. Dabei gibt es drei Optionen, zwischen denen der Admin auswählen kann: Geschlossen, Offen, Ziehung.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/aktuellephase.png" class="img-fluid figure-img"></p>
<figcaption>Aktuelle Phase</figcaption>
</figure>
</div>
<p>Sobald der Admin auf den “Bearbeiten” - Button klickt, gelangt er zur Ansicht, in der er die aktuelle Phase bearbeiten kann. Dazu gehört:</p>
<ul>
<li><strong>Startdatum:</strong> Wann die Phase beginnen soll.</li>
<li><strong>Enddatum:</strong> Wann die Phase beendet werden soll.</li>
<li><strong>Datum für E-Mail Benachrichtigung:</strong> Das Datum, an dem die E-Mail Benachrichtigung versendet werden soll.</li>
<li><strong>Titel der Phase:</strong> In Englisch und Deutsch (z.B. FWP Anmeldung Wintersemester).</li>
<li><strong>Beschreibung der Phase:</strong> In Englisch und Deutsch (z.B. Anmeldung zu den Wahlpflichtfächern für das Sommersemester 2024).</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/anmeldephasebearbeiten.png" class="img-fluid figure-img"></p>
<figcaption>Anmeldephase bearbeiten</figcaption>
</figure>
</div>
<p>Nun kann der Admin auch die angebotenen Kurse für die aktuelle Phase bearbeiten. Dabei befinden sich auf der linken Seite alle Kurse, die existieren, und auf der rechten Seite befinden sich die Kurse, die man für die aktuelle Phase anbieten möchte.</p>
<ul>
<li><p><strong>Kurse hinzufügen:</strong> Um Kurse der aktuellen Phase hinzuzufügen, muss man den jeweiligen Kurs von der linken Seite (Liste der verfügbaren Kurse) auf die rechte Seite (Liste der angebotenen Kurse) per Drag and Drop ziehen. Der Admin muss auf den Kurs klicken, die Maustaste gedrückt halten, diesen Kurs dann in die Liste der angebotenen Kurse ziehen und letzlich die Maustaste loslassen.</p></li>
<li><p><strong>Kurse entfernen:</strong> Wenn man einen Kurs nicht mehr in der aktuellen Phase anbieten möchte, muss man den Kurs aus der Liste der angebotenen Kurse anklicken und in die Liste der verfügbaren Kurse ziehen.</p></li>
<li><p><strong>Vergangene Anmeldephasen:</strong> Falls man die Kurse der vergangenen Anmeldephasen laden möchte, muss man lediglich auf das Dropdown-Menü klicken und anschließend eine Option auswählen.</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/angebotenekurse.png" class="img-fluid figure-img"></p>
<figcaption>Angebotene Kurse</figcaption>
</figure>
</div>
<section id="angebotene-kurse-der-aktuellen-phase-bearbeiten" class="level4">
<h4 class="anchored" data-anchor-id="angebotene-kurse-der-aktuellen-phase-bearbeiten">Angebotene Kurse der aktuellen Phase bearbeiten</h4>
<p>Der Admin ist ebenfalls in der Lage, die Kurse zu bearbeiten die in der aktuellen Phase angeboten werden, indem er auf den Stift klickt, der sich neben dem Namen des jeweiligen Kurses befindet.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/kursbearbeitenbutton.png" class="img-fluid figure-img"></p>
<figcaption>Button für die Kursbearbeitung</figcaption>
</figure>
</div>
<p>Sobald der Admin auf den Stift klickt, wird ein Pop-up-Fenster angezeigt. Dieses ermöglicht es, folgendes zu bearbeiten:</p>
<ul>
<li><strong>Anzahl der Mindestteilnehmer</strong></li>
<li><strong>Anzahl der maximalen Teilnehmer</strong></li>
<li><strong>Moodle-Kurslink:</strong> Link für den Moodle-Kurs</li>
<li><strong>Externe Anmeldung:</strong> Falls “Externe Anmeldung” ausgewählt wird, bedeutet dies, dass es sich um einen Kurs handelt, für den man sich nicht über diese Webseite anmelden kann. Jedoch wird der Kurs den Studenten dennoch angezeigt, damit sie wissen, dass dieser Kurs in dem Semester stattfindet. Ein Beispiel für einen Kurs, der eine externe Anmeldung benötigt, wäre “Computer Games Development”, da die Anmeldung für diesen Kurs über Moodle erfolgt.</li>
<li><strong>Studienfelder:</strong> Für welche Studienfelder dieser Kurs angeboten werden soll</li>
<li><strong>Veranstaltungsart:</strong> Auswahl zwischen drei Optionen: wöchentlich, unregelmäßig oder Blockveranstaltung</li>
<li><strong>Termine:</strong> Festlegung, zu welcher Uhrzeit und an welchem Datum der jeweilige Kurs stattfindet</li>
<li><strong>Zusätzliche Informationen:</strong> Zusätzliche Details wie z.B. “Kurs findet online statt - Beginn 04.04.2024”</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/kursebearbeiten.png" class="img-fluid figure-img"></p>
<figcaption>Kurse bearbeiten</figcaption>
</figure>
</div>
</section>
</section>
<section id="kurse-bearbeiten-löschen-hinzufügen" class="level3">
<h3 class="anchored" data-anchor-id="kurse-bearbeiten-löschen-hinzufügen"><strong>2.3 Kurse bearbeiten, löschen, hinzufügen</strong></h3>
<p>Um alle Kurse einsehen zu können und diese zu bearbeiten, zu löschen oder neue hinzuzufügen, muss der Admin sich auf der Admin-Startseite befinden. Dort befindet sich ein Button namens <strong>“Alle Kurse”</strong>. Sobald man darauf klickt, gelangt man zur gewünschten Ansicht.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/allekursebutton.png" class="img-fluid figure-img"></p>
<figcaption>Alle Kurse</figcaption>
</figure>
</div>
<p>Falls der Admin alle Kurse aus dem Modulhandbuch <strong>hinzufügen</strong> möchte, muss er auf den Button “Importieren” klicken. Dies ermöglicht es, das gesamte Modulhandbuch für die Wahlpflichtfächer zu importieren. Nach dem Import werden die erforderlichen Daten, wie beispielsweise der Titel des Kurses und die Namen der Dozenten, extrahiert. Anschließend werden auf Basis dieser Daten die Kurse automatisch erstellt.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/kurseimportieren.png" class="img-fluid figure-img"></p>
<figcaption>Modulhandbuch importieren</figcaption>
</figure>
</div>
<p>Einzelne Kurse können <strong>hinzugefügt</strong> werden, indem man den Button “NEW” anklickt. Dadurch öffnet sich ein Pop-up-Fenster, welches es ermöglicht, unter anderem die Semesterwochenstunden, Creditpoints, Dozenten und zusätzliche Informationen festzulegen.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/neuerkurs.png" class="img-fluid figure-img"></p>
<figcaption>Neuen Kurs hinzufügen</figcaption>
</figure>
</div>
<p>Um bereits vorhandene Kurse zu <strong>bearbeiten</strong>, muss man auf den Button klicken, der als Stift dargestellt wird. Dadurch öffnet sich ein Pop-up-Fenster, welches die Möglichkeit bietet, die gewünschten Änderungen vorzunehmen. Kurse können innerhalb dieses Pop-up-Fensters auch <strong>gelöscht</strong> werden, indem man den “Löschen”-Button anklickt.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/kurslöschen.png" class="img-fluid figure-img"></p>
<figcaption>Kurs löschen</figcaption>
</figure>
</div>
</section>
<section id="alle-phasen-einsehen-und-neue-phasen-hinzufügen" class="level3">
<h3 class="anchored" data-anchor-id="alle-phasen-einsehen-und-neue-phasen-hinzufügen"><strong>2.4 Alle Phasen einsehen und neue Phasen hinzufügen</strong></h3>
<p>Um alle Phasen einsehen und neue Phasen hinzufügen zu können, muss der Admin sich auf der Admin-Startseite befinden. Dort befindet sich ein Button namens “Alle Phasen”. Sobald man darauf klickt, gelangt man zur gewünschten Ansicht.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/allephasenbutton.png" class="img-fluid figure-img"></p>
<figcaption>Alle Phasen</figcaption>
</figure>
</div>
<p>Um eine bestimmte Phase zu bearbeiten, muss der Admin auf die jeweilige Phase klicken. Dabei erhält er genau dieselbe Ansicht wie im Kapitel “2.2 Aktuelle Phase bearbeiten”. Die Bearbeitung einer Phase verläuft analog wie in dem genannten Kapitel, daher werde ich das Verfahren nicht erneut erklären. Bei Bedarf kann einfach im entsprechenden Kapitel nachgesehen werden.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/phasebearbeiten.png" class="img-fluid figure-img"></p>
<figcaption>Phasen bearbeiten</figcaption>
</figure>
</div>
<p>Um eine neue Phase hinzuzufügen, muss sich der Admin auf der Ansicht befinden, wo alle Phasen aufgezeigt werden. Dort befindet sich oben rechts ein “ADD”-Button. Nach einem Klick darauf erhält man genau dieselbe Ansicht wie im Kapitel “2.2 Aktuelle Phase bearbeiten”. Bei Bedarf kann einfach im entsprechenden Kapitel nachgesehen werden.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/phasehinzufügen.png" class="img-fluid figure-img"></p>
<figcaption>Phasen hinzufügen</figcaption>
</figure>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>